<html>
<head>

        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
        <title>Cadastrar Variedades</title>
        <link rel="stylesheet" href="estilo/font-awesome.min.css">
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,700" rel="stylesheet">
        <link href="estilo/style.css" rel="stylesheet"/>
        <meta name="viewport" content="width=device-width,initial-scale=1.0">
        <meta name="keywordes" content="palavras-chaves,do,meu,site">
     <meta name="description" content="Diversos produtos para você!."> 
         <meta charset="utf-8"/>
  
</head>



<body>
    <div style="display: none" class="cliente">

         


         <h2>Cadastrar Logo </h2>

        <form id="form-cliente0">
           
            <input type="file" name="arquivo0" /><br>
            <input type="submit" name="acao0" value="Enviar" />
            
        </form>
    <br>

<hr>

                <h2>Cadastrar Principal</h2>

        <form id="form-cliente1">
           
            <input type="file" name="arquivo1" /><br>
            <input type="submit" name="acao1" value="Enviar" />
            
        </form>
    <br>

    <hr>

     <h2>Cadastrar banes</h2>

        <form id="form-cliente2">
            <textarea placeholder="Digite..." name="comprovante2"></textarea><br>     
            <input type="file" name="arquivo2" /><br>
            <input type="submit" name="acao2" value="Enviar" />
            
        </form>
    <br>

      <hr>

     <h2>Cadastrar Descriçao1</h2>

        <form id="form-Titulo11">
            <textarea placeholder="Digite..." name="comprovante11"></textarea><br>
            <br>
            <input type="submit" name="acao11" value="Enviar" />
            
        </form>
    <br>
    <hr>

     <h2>Cadastrar Descriçao2</h2>

        <form id="form-Titulo22">
            <textarea placeholder="Digite ..." name="comprovante22"></textarea><br>
            <br>
            <input type="submit" name="acao22" value="Enviar" />
            
        </form>
    <br>

     <h2>Cadastrar Descriçao 3</h2>

        <form id="form-Titulo33">
            <textarea placeholder="Digite..." name="comprovante33"></textarea><br>
            <br>
            <input type="submit" name="acao33" value="Enviar" />
            
        </form>
    <br>

    <hr>

     <h2>Cadastrar Descriçao 4</h2>

        <form id="form-Titulo44">
            <textarea placeholder="Digite..." name="comprovante44"></textarea><br>
            <br>
            <input type="submit" name="acao44" value="Enviar" />
            
        </form>
    <br>

<hr>

     <h2>Cadastrar Descriçao 5</h2>

        <form id="form-Titulo55">
            <textarea placeholder="Digite..." name="comprovante55"></textarea><br>
            <br>
            <input type="submit" name="acao44" value="Enviar" />
            
        </form>
    <br>


<hr>

     <h2>Cadastrar Descriçao 6</h2>

        <form id="form-Titulo66">
            <textarea placeholder="Digite..." name="comprovante66"></textarea><br>
            <br>
            <input type="submit" name="acao66" value="Enviar" />
            
        </form>
    <br>
</div>

<hr>
    


    <script src="https://www.gstatic.com/firebasejs/8.6.3/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.5.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.5.0/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.5.0/firebase-storage.js"></script>

    <script>
        var  firebaseConfig = {
        apiKey: "AIzaSyAlyKAt0Eg57cb8GZDalCaEwIALPWPAEds",
        authDomain: "painel-loguin.firebaseapp.com",
        projectId: "painel-loguin",
        storageBucket: "painel-loguin.appspot.com",
        messagingSenderId: "24549930727",
        appId: "1:24549930727:web:98a17c160e55172c4bd442"
      };
        firebase.initializeApp(firebaseConfig);

        const storage = firebase.storage();
        const db = firebase.firestore();
        const auth = firebase.auth();

        const provider = new firebase.auth.GoogleAuthProvider();


        /***********************************************************************************/




        const formCliente0 = document.querySelector('#form-cliente0');
        formCliente0.addEventListener('submit', (e) => {
            e.preventDefault();
         
            let arquivo = document.querySelector('[name=arquivo0]').files[0];

            const uploadTask0 = storage.ref('baner1/' + arquivo).put(arquivo);

            uploadTask0.on('state_changed', (snapshot) => {
                const progress0 = (snapshot.bytesTransferred / snapshot.totalBytes) * 1;
                console.log(progress0);
            },
                function (error) {

                },
                function () {
                    storage.ref('baner1/' + arquivo).getDownloadURL().then((url) => {
                        db.collection('baner1').add({
                            
                            arquivoURL: url
                        })
                        alert("Cadastro Enviado com sucesso!");
                    })
                }
            )
        })


 /********************************************************************************************/


        const formCliente1 = document.querySelector('#form-cliente1');
        formCliente1.addEventListener('submit', (e) => {
            e.preventDefault();
         
            let arquivo = document.querySelector('[name=arquivo1]').files[0];

            const uploadTask1 = storage.ref('baner/' + arquivo).put(arquivo);

            uploadTask1.on('state_changed', (snapshot) => {
                const progress1 = (snapshot.bytesTransferred / snapshot.totalBytes) * 1;
                console.log(progress1);
            },
                function (error) {

                },
                function () {
                    storage.ref('baner/' + arquivo).getDownloadURL().then((url) => {
                        db.collection('baner').add({
                            
                            arquivoURL: url
                        })
                        alert("Cadastro Enviado com sucesso!");
                    })
                }
            )
        })







/***************************************************************************************************/


        const formCliente2 = document.querySelector('#form-cliente2');
        formCliente2.addEventListener('submit', (e) => {
            e.preventDefault();
            let comprovanteText = document.querySelector('[name=comprovante2]').value;
            let arquivo = document.querySelector('[name=arquivo2]').files[0];

            const uploadTask2 = storage.ref('baner2/' + arquivo.name).put(arquivo);

            uploadTask2.on('state_changed', (snapshot) => {
                const progress2 = (snapshot.bytesTransferred / snapshot.totalBytes) * 1;
                console.log(progress2);
            },
                function (error) {

                },
                function () {
                    storage.ref('baner2/' + arquivo.name).getDownloadURL().then((url) => {
                        db.collection('baner2').add({
                            descricao: comprovanteText,
                            arquivoURL: url
                        })
                        alert("Cadastro Enviado com sucesso!");
                    })
                }
            )
        })

/****************************************************************************/


/***************************************************************************/

        const formTitulo11 = document.querySelector('#form-Titulo11');
        formTitulo11.addEventListener('submit', (e) => {
            e.preventDefault();
            let comprovanteText = document.querySelector('[name=comprovante11]').value;
           

            const uploadTask11 = storage.ref('descricao1/' + name).put(name);

            uploadTask11.on('state_changed', (snapshot) => {
                const progress11 = (snapshot.bytesTransferred / snapshot.totalBytes) * 1;
                console.log(progress3);
            },
                function (error) {

                },
                function () {
                    storage.ref('descricao1/' + name).getDownloadURL().then((url) => {
                        db.collection('descricao1').add({
                            descricao: comprovanteText,
                           
                        })
                        alert("Titulo1 Cadastrado!");
                    })
                }
            )
        })

/****************************************************************************/



/***************************************************************************/

        const formTitulo22 = document.querySelector('#form-Titulo22');
        formTitulo22.addEventListener('submit', (e) => {
            e.preventDefault();
            let comprovanteText = document.querySelector('[name=comprovante22]').value;
           

            const uploadTask22 = storage.ref('descricao2/' + name).put(name);

            uploadTask22.on('state_changed', (snapshot) => {
                const progress22 = (snapshot.bytesTransferred / snapshot.totalBytes) * 1;
                console.log(progress22);
            },
                function (error) {

                },
                function () {
                    storage.ref('descricao2/' + name).getDownloadURL().then((url) => {
                        db.collection('descricao2').add({
                            descricao: comprovanteText,
                           
                        })
                        alert("Titulo2 Cadastrado!");
                    })
                }
            )
        })

/****************************************************************************/


const formTitulo33 = document.querySelector('#form-Titulo33');
        formTitulo33.addEventListener('submit', (e) => {
            e.preventDefault();
            let comprovanteText = document.querySelector('[name=comprovante33]').value;
           

            const uploadTask33 = storage.ref('descricao3/' + name).put(name);

            uploadTask33.on('state_changed', (snapshot) => {
                const progress33 = (snapshot.bytesTransferred / snapshot.totalBytes) * 1;
                console.log(progress33);
            },
                function (error) {

                },
                function () {
                    storage.ref('descricao3/' + name).getDownloadURL().then((url) => {
                        db.collection('descricao3').add({
                            descricao: comprovanteText,
                           
                        })
                        alert("Titulo3 Cadastrado!");
                    })
                }
            )
        })

/****************************************************************************/


const formTitulo44 = document.querySelector('#form-Titulo44');
        formTitulo44.addEventListener('submit', (e) => {
            e.preventDefault();
            let comprovanteText = document.querySelector('[name=comprovante44]').value;
           

            const uploadTask44 = storage.ref('descricao4/' + name).put(name);

            uploadTask44.on('state_changed', (snapshot) => {
                const progress44 = (snapshot.bytesTransferred / snapshot.totalBytes) * 1;
                console.log(progress44);
            },
                function (error) {

                },
                function () {
                    storage.ref('descricao4/' + name).getDownloadURL().then((url) => {
                        db.collection('descricao4').add({
                            descricao: comprovanteText,
                           
                        })
                        alert("Titulo4 Cadastrado!");
                    })
                }
            )
        })

/****************************************************************************/


const formTitulo55 = document.querySelector('#form-Titulo55');
        formTitulo55.addEventListener('submit', (e) => {
            e.preventDefault();
            let comprovanteText = document.querySelector('[name=comprovante55]').value;
           

            const uploadTask55 = storage.ref('descricao5/' + name).put(name);

            uploadTask55.on('state_changed', (snapshot) => {
                const progress55 = (snapshot.bytesTransferred / snapshot.totalBytes) * 1;
                console.log(progress55);
            },
                function (error) {

                },
                function () {
                    storage.ref('descricao5/' + name).getDownloadURL().then((url) => {
                        db.collection('descricao5').add({
                            descricao: comprovanteText,
                           
                        })
                        alert("Titulo5 Cadastrado!");
                    })
                }
            )
        })

/****************************************************************************/


const formTitulo66 = document.querySelector('#form-Titulo66');
        formTitulo66.addEventListener('submit', (e) => {
            e.preventDefault();
            let comprovanteText = document.querySelector('[name=comprovante66]').value;
           

            const uploadTask66 = storage.ref('descricao6/' + name).put(name);

            uploadTask66.on('state_changed', (snapshot) => {
                const progress66 = (snapshot.bytesTransferred / snapshot.totalBytes) * 1;
                console.log(progress66);
            },
                function (error) {

                },
                function () {
                    storage.ref('descricao6/' + name).getDownloadURL().then((url) => {
                        db.collection('descricao6').add({
                            descricao: comprovanteText,
                           
                        })
                        alert("Titulo6 Cadastrado!");
                    })
                }
            )
        })

/****************************************************************************/


    </script>
    <script>
        const urlParams = new URLSearchParams(window.location.search);
        const myParam = urlParams.get('admin');

        if (myParam != null) {
            //Eu quero entrar na parte administrativa.
            const adminArea = document.querySelector('.admin');
            adminArea.style.display = "block";
            console.log("Área do administrador");

            auth.onAuthStateChanged((val) => {
                if (val.email == "edilson.aria@gmail.com") {
                    loginBtn.style.display = "none";
                    document.querySelector('.listar-formularios').style.display = "block";
                    alert('Você está logado, admin!');
                    console.log("Logado como admin.");
                } else {
                    alert('Este email não é autorizado!');
                    console.log("Usuário não logado como admin.");
                }
            })

        } else {
            //Eu sou usuário.
            const clientArea = document.querySelector('.cliente');
            clientArea.style.display = "block";
            console.log("Área do usuário");
        }
    </script>
</body>

</html>